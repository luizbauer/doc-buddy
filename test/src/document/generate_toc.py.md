[<< Table of Contents](../../index.md)

# AI Generated documentation for `doc-buddy/src/document/generate_toc.py`
---
The `generate_toc.py` file is responsible for creating the Table of Contents (TOC) for the project's documentation. It leverages the `render_tree_html` function from the `file` module to generate the HTML representation of the file structure, and combines it with a header and footer to produce the final TOC.  The TOC is saved as `index.md` in the designated output path.

Here's a breakdown of the functions within the module:

- **`generate_toc(files)`**: This function orchestrates the TOC generation process.  It takes a list of files as input, presumably obtained from the file system. It calls `find_name()` to determine the project name, uses `generate_header()` to create the header section of the TOC, employs `render_tree_html()` (imported from the `file` module) to generate the HTML for the file tree structure, and calls `generate_footer()` (imported from `generate_footer.py`) to create the footer.  The final TOC document is written to "index.md" in the output directory specified in the configuration. The documentation suffix is retrieved from the config.

- **`generate_header(name)`**: This function creates the header for the TOC. It takes the project's name as input and uses it within the header text.  It also adds a timestamp indicating when the documentation was generated, and a warning against directly editing the generated file.

- **`find_name()`**: This function determines the project's name. It checks if `config.gitmode` is enabled; if so, it returns the base name of the root path (presumably from the git repository).  Otherwise, it falls back to returning the base name of the current working directory. This function utilizes the `config` object, which likely holds project settings and configurations.

# Full listing of src/document/generate_toc.py
```python
"""
This module generates the Table of Contents (TOC) for the documentation.
"""

import os
from datetime import datetime
from file import render_tree_html
from config import config
from .generate_footer import generate_footer


def generate_toc(files):
    """
    Generates the Table of Contents (TOC) for the documentation.
    """
    name = find_name()
    header = generate_header(name)
    body = render_tree_html(files, config.documentation_suffix)
    footer = generate_footer(name, True)

    path = str(config.output_path) + os.sep + "index.md"
    with open(path, "w", encoding="utf-8") as f:
        f.write(header)
        f.write(body)
        f.write(footer)


def generate_header(name):
    """
    Generates the header for the Table of Contents (TOC).
    """
    date = datetime.now().strftime("%Y-%m-%d %H:%M:%S")

    header = f"# Auto-generated Documentation for `{name}`\n"
    header += "This documentation is generated automatically from the source code. "
    header += "Do not edit this file directly.\n"

    return header


def find_name():
    """
    Finds the name of the project.
    """
    if config.gitmode:
        return os.path.basename(config.root_path)

    return os.path.basename(os.getcwd())

```
<br>
<br>


---
### Automatically generated Documentation for `doc-buddy/src/document/generate_toc.py`
This documentation is generated automatically from the source code. Do not edit this file directly.
Generated by **Doc-Buddy** on **November 20, 2024 15:09:34** via **gemini-1.5-pro-002**

For more information, visit the [Doc-Buddy on GitHub](https://github.com/scott-r-lindsey/doc-buddy).  
*doc-buddy Commit Hash: 95d11f067c1bbf87e1127584466814b22ed990f2*
