[<< Table of Contents](../../index.md)

# AI Generated documentation for `doc-buddy/src/ai_provider/ai_provider.py`
---
## src/ai_provider/ai_provider.py

This file defines the base structure for interacting with different AI providers for documentation generation within the `doc-buddy` project.  It uses abstract methods to ensure that specific provider implementations adhere to a common interface.

### `AIProvider` Class

This abstract base class serves as a blueprint for all AI providers.  It enforces the implementation of the `document_file` method in derived classes.

#### `document_file(file_name: str, project_path: str, file_contents: str)`

This abstract method is the core functionality of any AI provider.  It's responsible for taking the file's name, project path, and content as input and using an AI to generate documentation.  The specific implementation of how the AI is used and how the documentation is generated is left to the concrete provider classes that inherit from this base class.  The method is expected to return a document ID, which likely refers to a unique identifier for the generated documentation within the specific AI provider's system.

#### `generate_prompt(file_name: str, project_path: str, file_contents: str)`

This method constructs the prompt that will be sent to the AI. It allows for customization via an environment variable `AI_PROMPT`.

- It first checks for the existence of a custom prompt template defined in the `AI_PROMPT` environment variable.

- If a custom prompt template is found, it formats the template using the provided `file_name`, `project_path`, and `file_contents`. This allows users to define complex prompt structures and inject specific variables.

- If no custom prompt is defined, it uses a default prompt.  The default prompt instructs the AI to create documentation for the specified file, including explanations for functions, classes, and key logic.  It also provides specific instructions about formatting: no code blocks and no initial heading.

- The method returns the generated prompt, ready to be sent to an AI provider. It retrieves the `project_name` from a `config` object (presumably defined in a separate `config.py` file). This approach allows for centralized project configuration.

# Full listing of src/ai_provider/ai_provider.py
```{'python'}
"""
This file contains the base class for an AI provider.
"""

import os
from abc import ABC, abstractmethod


class AIProvider(ABC):
    """
    Base class for an AI provider. Extend this class to add support for other providers.
    """

    @abstractmethod
    def document_file(self, file_name: str, project_path: str, file_contents: str):
        """
        Document a file.
        :param file_name: The name of the file.
        :param project_path: The path to the project.
        :param file_contents: The contents of the file.
        :return: The document ID.
        """

    def generate_prompt(self, file_name: str, project_path: str, file_contents: str):
        """
        Generate a prompt for the user to provide documentation for a file.
        :return: The prompt.
        """
        from config import config

        custom_prompt_template = os.getenv("AI_PROMPT")

        # Default prompt if no custom prompt is provided
        default_prompt = (
            f"Please create a document which explains the following file:\n"
            f"File Path: {project_path}/{file_name}\n"
            f"Project Name: {config.project_name}\n"
            f"Make sure to include explanations for all functions, classes, and key"
            f" logic in the file. Do not wrap the output in a code block.\n\n"
            f"Do not start your document with a heading; one will automatically be added.\n"
            f"File Contents:\n{file_contents}\n\n"
        )

        # If a custom prompt template is provided, use it with variable substitution
        if custom_prompt_template:
            prompt = custom_prompt_template.format(
                file_name=file_name,
                project_path=project_path,
                file_contents=file_contents,
            )
        else:
            prompt = default_prompt

        return prompt

```
<br>
<br>


---
### Automatically generated Documentation for `doc-buddy/src/ai_provider/ai_provider.py`
This documentation is generated automatically from the source code. Do not edit this file directly.
Generated by **Doc-Buddy** on **November 09, 2024 18:51:27** via **gemini-1.5-pro-002**

For more information, visit the [Doc-Buddy on GitHub](https://github.com/scott-r-lindsey/doc-buddy).  
*doc-buddy Commit Hash: e4f5dcb09e20896907179c4446f269d9f1c93dd8*
